(()=>{var e={2584:e=>{e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},6942:(e,t,n)=>{"use strict";var r=n(1808),o=n(2278),a=n(5762);e.exports=function(e,t,n){var i=n,s=t&&t.tagName;s||2!==arguments.length||(i=t),s||(t=e),i||(i={});var c=!1,l=o(h,30),u={update:!1!==i.autoupdateToCaret&&m},f=i.caret&&a(t,u);return h(),!1!==i.tracking&&r.add(window,"resize",l),{read:p,refresh:h,destroy:v,sleep:d};function d(){u.sleeping=!0}function p(){return g()}function g(e){var n=t.getBoundingClientRect(),r=document.body.scrollTop||document.documentElement.scrollTop;return f?{x:((e=f.read()).absolute?0:n.left)+e.x,y:(e.absolute?0:n.top)+r+e.y+20}:{x:n.left,y:n.top+r}}function m(e){h(e)}function h(n){if(c)throw new Error("Bullseye can't refresh after being destroyed. Create another instance instead.");if(f&&!n)return u.sleeping=!1,void f.refresh();var r=g(n);f||t===e||(r.y+=t.offsetHeight),e.style.left=r.x+"px",e.style.top=r.y+"px"}function v(){f&&f.destroy(),r.remove(window,"resize",l),c=!0}}},5762:(e,t,n)=>{"use strict";var r=n(7253),o=n(1808),a=n(3484),i=n(2278),s=a.get,c=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],l=n.g,u=document,f=null!==l.mozInnerScreenX&&void 0!==l.mozInnerScreenX;e.exports=function(e,t){var n="INPUT"===e.tagName||"TEXTAREA"===e.tagName,a=i((function(){if(!d.sleeping)return(d.update||p)(g())}),30),d=t||{};return y(),{read:g,refresh:a,destroy:function(){y(!0)}};function p(){}function g(){return(n?m:h)()}function m(){var t,n,o,a=r(e),i=(t=l.getComputedStyle?getComputedStyle(e):e.currentStyle,n=u.createElement("div"),o=n.style,u.body.appendChild(n),"INPUT"!==e.tagName&&(o.wordWrap="break-word"),o.whiteSpace="pre-wrap",o.position="absolute",o.visibility="hidden",c.forEach((function(e){o[e]=t[e]})),f?(o.width=parseInt(t.width)-2+"px",e.scrollHeight>parseInt(t.height)&&(o.overflowY="scroll")):o.overflow="hidden",{mirror:n,computed:t}),s=function(t,n){var r=u.createElement("span"),o=t.mirror,a=t.computed;return w(o,v(e).substring(0,n)),"INPUT"===e.tagName&&(o.textContent=o.textContent.replace(/\s/g," ")),w(r,v(e).substring(n)||"."),o.appendChild(r),{x:r.offsetLeft+parseInt(a.borderLeftWidth),y:r.offsetTop+parseInt(a.borderTopWidth)}}(i,a.start);return u.body.removeChild(i.mirror),s}function h(){var e=s();if(e.rangeCount){var t=e.getRangeAt(0);if("P"===t.startContainer.nodeName&&0===t.startOffset)return{x:t.startContainer.offsetLeft,y:t.startContainer.offsetTop,absolute:!0};if(t.getClientRects){var n=t.getClientRects();if(n.length>0)return{x:n[0].left,y:n[0].top,absolute:!0}}}return{x:0,y:0}}function v(e){return n?e.value:e.innerHTML}function w(e,t){n?e.textContent=t:e.innerHTML=t}function y(t){var n=t?"remove":"add";o[n](e,"keydown",a),o[n](e,"keyup",a),o[n](e,"input",a),o[n](e,"paste",a),o[n](e,"change",a)}}},2278:e=>{"use strict";e.exports=function(e,t){var n,r=-1/0;return function(){n||function o(){clearTimeout(n),n=null;var a=r+t,i=Date.now();i>a?(r=i,e()):n=setTimeout(o,a-i)}()}}},5105:(e,t,n)=>{"use strict";var r=n(1875),o=n(168),a=n(5229),i={image:function(e){return s.test(e.type)}},s=/^image\/(gif|png|p?jpe?g)$/i;function c(e){var t=e||{};t.formData=t.formData||{},t.fieldKey=t.fieldKey||"uploads";var n=a({submit:function(e){n.emit("started",e);var o,a=Array.prototype.slice.call(e),s=(o=a,t.validate?o.filter((function(e){return(i[t.validate]||t.validate)(e)})):o);if(s){n.emit("valid",s);var c=new FormData;Object.keys(t.formData).forEach((function(e){c.append(e,t.formData[e])}));var l={"Content-Type":"multipart/form-data",headers:{Accept:"application/json"},method:t.method||"PUT",url:t.endpoint||"/api/files",body:c};s.forEach((function(e){c.append(t.fieldKey,e,e.name)})),r(l,(function(e,t,r){t.body=r=function(e){try{return JSON.parse(e)}catch(e){return e}}(r);var o=r&&r.results&&Array.isArray(r.results)?r.results:[];e||t.statusCode<200||t.statusCode>299||r instanceof Error?n.emit("error",e):n.emit("success",o,r),n.emit("ended",e,o,r)}))}else n.emit("invalid",a)}});return n}e.exports={create:c,setup:function(e,t){var n=c(t);return o.add(e,"change",(function(t){(function(e){e.stopPropagation(),e.preventDefault()})(t),e.files.length&&n.submit(e.files),e.value="",e.value=null}),!1),n}}},168:(e,t,n)=>{"use strict";var r=n(9638),o=n(5490),a=n.g.document,i=function(e,t,n,r){return e.addEventListener(t,n,r)},s=function(e,t,n,r){return e.removeEventListener(t,n,r)},c=[];function l(e,t,n){var r=function(e,t,n){var r,o;for(r=0;r<c.length;r++)if((o=c[r]).element===e&&o.type===t&&o.fn===n)return r}(e,t,n);if(r){var o=c[r].wrapper;return c.splice(r,1),o}}n.g.addEventListener||(i=function(e,t,r){return e.attachEvent("on"+t,function(e,t,r){var o=l(e,t,r)||function(e,t,r){return function(t){var o=t||n.g.event;o.target=o.target||o.srcElement,o.preventDefault=o.preventDefault||function(){o.returnValue=!1},o.stopPropagation=o.stopPropagation||function(){o.cancelBubble=!0},o.which=o.which||o.keyCode,r.call(e,o)}}(e,0,r);return c.push({wrapper:o,element:e,type:t,fn:r}),o}(e,t,r))},s=function(e,t,n){var r=l(e,t,n);if(r)return e.detachEvent("on"+t,r)}),e.exports={add:i,remove:s,fabricate:function(e,t,n){var i=-1===o.indexOf(t)?new r(t,{detail:n}):function(){var e;return a.createEvent?(e=a.createEvent("Event")).initEvent(t,!0,!0):a.createEventObject&&(e=a.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+t,i)}}},5490:(e,t,n)=>{"use strict";var r=[],o="",a=/^on/;for(o in n.g)a.test(o)&&r.push(o.slice(2));e.exports=r},8514:(e,t,n)=>{"use strict";var r=n(6115);e.exports=function(e,t,n){e&&r((function(){e.apply(n||null,t||[])}))}},5229:(e,t,n)=>{"use strict";var r=n(2584),o=n(8514);e.exports=function(e,t){var n=t||{},a={};return void 0===e&&(e={}),e.on=function(t,n){return a[t]?a[t].push(n):a[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var r=arguments.length;if(1===r)delete a[t];else if(0===r)a={};else{var o=a[t];if(!o)return e;o.splice(o.indexOf(n),1)}return e},e.emit=function(){var t=r(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var i=(a[t]||[]).slice(0);return function(){var a=r(arguments),s=this||e;if("error"===t&&!1!==n.throws&&!i.length)throw 1===a.length?a[0]:a;return i.forEach((function(r){n.async?o(r,a,s):r.apply(s,a),r._once&&e.off(t,r)})),e}},e}},1808:(e,t,n)=>{"use strict";var r=n(9638),o=n(4874),a=document,i=function(e,t,n,r){return e.addEventListener(t,n,r)},s=function(e,t,n,r){return e.removeEventListener(t,n,r)},c=[];function l(e,t,n){var r=function(e,t,n){var r,o;for(r=0;r<c.length;r++)if((o=c[r]).element===e&&o.type===t&&o.fn===n)return r}(e,t,n);if(r){var o=c[r].wrapper;return c.splice(r,1),o}}n.g.addEventListener||(i=function(e,t,r){return e.attachEvent("on"+t,function(e,t,r){var o=l(e,t,r)||function(e,t,r){return function(t){var o=t||n.g.event;o.target=o.target||o.srcElement,o.preventDefault=o.preventDefault||function(){o.returnValue=!1},o.stopPropagation=o.stopPropagation||function(){o.cancelBubble=!0},o.which=o.which||o.keyCode,r.call(e,o)}}(e,0,r);return c.push({wrapper:o,element:e,type:t,fn:r}),o}(e,t,r))},s=function(e,t,n){return e.detachEvent("on"+t,l(e,t,n))}),e.exports={add:i,remove:s,fabricate:function(e,t,n){var i=-1===o.indexOf(t)?new r(t,{detail:n}):function(){var e;return a.createEvent?(e=a.createEvent("Event")).initEvent(t,!0,!0):a.createEventObject&&(e=a.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+t,i)}}},4874:(e,t,n)=>{"use strict";var r=[],o="",a=/^on/;for(o in n.g)a.test(o)&&r.push(o.slice(2));e.exports=r},9638:(e,t,n)=>{var r=n.g.CustomEvent;e.exports=function(){try{var e=new r("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?r:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}},8908:(e,t,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},7376:e=>{e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},4942:(e,t,n)=>{"use strict";var r=n(9375),o=n(1808),a=/\s+/g,i={13:"enter",27:"esc",32:"space"},s={};function c(e,t,n,r){void 0===r&&(r=n,n={});var o=n.context||"defaults";r&&(void 0===s[o]&&(s[o]={}),t.toLowerCase().split(a).forEach((function(t){var a=t.trim();0!==a.length&&e(s[o],a,n,r)})))}o.add(window,"keydown",(function(e){var t=function(e){return e.which||e.keyCode||e.charCode}(e),n=i[t]||String.fromCharCode(t);n&&function(e,t){var n,o=function(e,t){var n=[e];return t.shiftKey&&n.unshift("shift"),t.altKey&&n.unshift("alt"),t.ctrlKey^t.metaKey&&n.unshift("cmd"),n.join("+").toLowerCase()}(e,t);for(n in s)s[n][o]&&s[n][o].forEach(a);function a(e){(function(e){var n=e.filter;if(n){var o=t.target;if("string"==typeof n)return!1===r.matchesSelector(o,n);for(;o.parentElement&&o!==n;)o=o.parentElement;return o!==n}})(e)||e.handle(t)}}(n,e)})),e.exports={on:function(e,t,n){c((function(e,t,n,r){var o={handle:r,filter:n.filter};e[t]?e[t].push(o):e[t]=[o]}),e,t,n)},off:function(e,t,n){c((function(e,t,n,r){e[t]&&(e[t]=e[t].filter((function(e){return e.handle===r&&e.filter===n.filter})))}),e,t,n)},clear:function(e){e?e in s&&(s[e]={}):s={}},handlers:s}},2222:(e,t,n)=>{"use strict";var r=n(3907),o=n(2478),a="localStorage"in n.g&&n.g.localStorage?n.g.localStorage:r;function i(e,t){return 1===arguments.length?s(e):c(e,t)}function s(e){return JSON.parse(a.getItem(e))}function c(e,t){try{return a.setItem(e,JSON.stringify(t)),!0}catch(e){return!1}}i.set=c,i.get=s,i.remove=function(e){return a.removeItem(e)},i.clear=function(){return a.clear()},i.on=o.on,i.off=o.off,e.exports=i},3907:e=>{"use strict";var t={};e.exports={getItem:function(e){return e in t?t[e]:null},setItem:function(e,n){return t[e]=n,!0},removeItem:function(e){return!!(e in t)&&delete t[e]},clear:function(){return t={},!0}}},2478:(e,t,n)=>{"use strict";var r={};function o(e){e||(e=n.g.event);var t=r[e.key];t&&t.forEach((function(t){t(JSON.parse(e.newValue),JSON.parse(e.oldValue),e.url||e.uri)}))}e.exports={on:function(e,t){r[e]?r[e].push(t):r[e]=[t],n.g.addEventListener?n.g.addEventListener("storage",o,!1):n.g.attachEvent?n.g.attachEvent("onstorage",o):n.g.onstorage=o},off:function(e,t){var n=r[e];n.length>1?n.splice(n.indexOf(t),1):r[e]=[]}}},4947:e=>{var t=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var n,r={},o=t(e).split("\n"),a=0;a<o.length;a++){var i=o[a],s=i.indexOf(":"),c=t(i.slice(0,s)).toLowerCase(),l=t(i.slice(s+1));void 0===r[c]?r[c]=l:(n=r[c],"[object Array]"===Object.prototype.toString.call(n)?r[c].push(l):r[c]=[r[c],l])}return r}},9375:(e,t,n)=>{"use strict";var r="sektor-"+Date.now(),o=/[+~]/,a=n.g.document,i=a&&a.documentElement||{},s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector||function(){return!1};function c(e,t,n,i){var s,c=t||a,u=n||[],f=0;if("string"!=typeof e)return u;if(1!==c.nodeType&&9!==c.nodeType)return[];if(i)for(;s=i[f++];)l(s,e)&&u.push(s);else u.push.apply(u,function(e,t){var n,i,s,c,l;t!==a&&(c=(s="#"+(i=(n=t.getAttribute("id"))||r)+" ")+e.replace(/,/g,","+s),l=o.test(e)&&t.parentNode,n||t.setAttribute("id",i));try{return(l||t).querySelectorAll(c||e)}catch(e){return[]}finally{null===n&&t.removeAttribute("id")}}(e,c));return u}function l(e,t){return s.call(e,t)}e.exports=c,c.matches=function(e,t){return c(e,null,null,t)},c.matchesSelector=l},8697:(e,t,n)=>{"use strict";var r,o=n.g.document,a=n(5857),i=n(4931),s=n(8948);r=n(6316).method(n.g,"getSelection")?a:"object"==typeof o.selection&&o.selection?s:i,e.exports=r},4931:e=>{"use strict";function t(){}e.exports=function(){return{removeAllRanges:t,addRange:t}}},5857:(e,t,n)=>{"use strict";e.exports=function(){return n.g.getSelection()}},8948:(e,t,n)=>{"use strict";var r=n(9900),o=n.g.document,a=o.body,i=s.prototype;function s(e){var t=this,n=e.createRange();this._selection=e,this._ranges=[],"Control"===e.type?p(t):f(n)?d(t,n):l(t)}function c(e,t){e.anchorNode=t.startContainer,e.anchorOffset=t.startOffset,e.focusNode=t.endContainer,e.focusOffset=t.endOffset}function l(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function u(e){var t=e.getNodes();if(!function(e){if(!e.length||1!==e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!g(e[0],e[t]))return!1;return!0}(t))throw new Error("getSingleElementFromRange(): range did not consist of a single element");return t[0]}function f(e){return e&&void 0!==e.text}function d(e,t){e._ranges=[t],c(e,t),e.rangeCount=1,e.isCollapsed=t.collapsed}function p(e){if(e._ranges.length=0,"None"===e._selection.type)l(e);else{var t=e._selection.createRange();if(f(t))d(e,t);else{var n;e.rangeCount=t.length;for(var r=0;r<e.rangeCount;++r)(n=o.createRange()).selectNode(t.item(r)),e._ranges.push(n);e.isCollapsed=1===e.rangeCount&&e._ranges[0].collapsed,c(e,e._ranges[e.rangeCount-1])}}}function g(e,t){for(var n=t;n.parentNode;){if(n.parentNode===e)return!0;n=n.parentNode}return!1}i.removeAllRanges=function(){try{this._selection.empty(),"None"!==this._selection.type&&(a.createTextRange().select(),this._selection.empty())}catch(e){}l(this)},i.addRange=function(e){"Control"===this._selection.type?function(e,t){for(var n=e._selection.createRange(),r=u(t),o=a.createControlRange(),i=0,s=n.length;i<s;++i)o.add(n.item(i));try{o.add(r)}catch(e){throw new Error("addRange(): Element could not be added to control selection")}o.select(),p(e)}(this,e):(r(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,c(this,e))},i.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?function(e,t){for(var n,r=a.createControlRange(),o=0,i=t.length;o<i;++o){n=u(t[o]);try{r.add(n)}catch(e){throw new Error("setRanges(): Element could not be added to control selection")}}r.select(),p(e)}(this,e):t&&this.addRange(e[0])},i.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new Error("getRangeAt(): index out of bounds");return this._ranges[e].cloneRange()},i.removeRange=function(e){if("Control"===this._selection.type){for(var t=this._selection.createRange(),n=u(e),r=a.createControlRange(),o=!1,i=0,s=t.length;i<s;++i)t.item(i)!==n||o?r.add(t.item(i)):o=!0;r.select(),p(this)}else!function(e,t){var n,r,o=e.getAllRanges();e.removeAllRanges();for(var a=0,i=o.length;a<i;++a)n=t,r=o[a],n.startContainer===r.startContainer&&n.startOffset===r.startOffset&&n.endContainer===r.endContainer&&n.endOffset===r.endOffset||e.addRange(o[a]);e.rangeCount||l(e)}(this,e)},i.eachRange=function(e,t){var n=0,r=this._ranges.length;for(n=0;n<r;++n)if(e(this.getRangeAt(n)))return t},i.getAllRanges=function(){var e=[];return this.eachRange((function(t){e.push(t)})),e},i.setSingleRange=function(e){this.removeAllRanges(),this.addRange(e)},e.exports=function(){return new s(n.g.document.selection)}},6316:e=>{"use strict";function t(e,t){var n=typeof e[t];return"function"===n||!("object"!==n||!e[t])||"unknown"===n}function n(e,t){return void 0!==e[t]}function r(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}e.exports={method:t,methods:r(t),property:n,properties:r(n)}},9900:(e,t,n)=>{"use strict";var r=n.g.document,o=r.body;function a(e,t){var n,a,i,s,c,l=e.offset,u=o.createTextRange(),f=3===(c=e.node.nodeType)||4===c||8===c;return f?a=(n=e.node).parentNode:(n=l<(s=e.node.childNodes).length?s[l]:null,a=e.node),(i=r.createElement("span")).innerHTML="&#feff;",n?a.insertBefore(i,n):a.appendChild(i),u.moveToElementText(i),u.collapse(!t),a.removeChild(i),f&&u[t?"moveStart":"moveEnd"]("character",l),u}e.exports=function(e){if(e.collapsed)return a({node:e.startContainer,offset:e.startOffset},!0);var t=a({node:e.startContainer,offset:e.startOffset},!0),n=a({node:e.endContainer,offset:e.endOffset},!1),r=o.createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r}},3484:(e,t,n)=>{"use strict";var r=n(8697),o=n(516);e.exports={get:r,set:o}},516:(e,t,n)=>{"use strict";var r=n(8697),o=n(9900),a=n.g.document;e.exports=function(e){var t,n;a.createRange?(t=r(),n=a.createRange(),e.startContainer&&(e.endContainer?n.setEnd(e.endContainer,e.endOffset):n.setEnd(e.startContainer,e.startOffset),n.setStart(e.startContainer,e.startOffset),t.removeAllRanges(),t.addRange(n))):o(e).select()}},7253:e=>{"use strict";var t=function(e){return{start:e.selectionStart,end:e.selectionEnd}},n=function(e,t){e.selectionStart=r(e,t.start),e.selectionEnd=r(e,t.end)};function r(e,t){return"end"===t?e.value.length:t||0}document.selection&&document.selection.createRange&&(t=function(e){var t=document.activeElement;t!==e&&e.focus();var n=document.selection.createRange(),r=n.getBookmark(),o=e.value,a=function(e){var t;do{t="@@marker."+Math.random()*new Date}while(-1!==e.indexOf(t));return t}(o),i=n.parentElement();if(null===i||!function(e){return"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName}(i))return c(0,0);n.text=a+n.text+a;var s=e.value;return e.value=o,n.moveToBookmark(r),n.select(),c(s.indexOf(a),s.lastIndexOf(a)-a.length);function c(n,r){return t!==e&&(t?t.focus():e.blur()),{start:n,end:r}}},n=function(e,t){var n=e.createTextRange();"end"===t.start&&"end"===t.end?(n.collapse(!1),n.select()):(n.collapse(!0),n.moveEnd("character",r(e,t.end)),n.moveStart("character",r(e,t.start)),n.select())}),e.exports=function(e,r){return 2===arguments.length&&n(e,r),t(e)}},6115:e=>{var t;t="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},e.exports=t},5856:(e,t,n)=>{"use strict";var r=n(1808),o=n(2797);function a(e,t){var n=this;function o(e){var t=u(c);r.add(e,"keypress",l),r.add(e,"keydown",u(i)),r.add(e,"keydown",u(s)),r.add(e,"mousedown",a),e.onpaste=t,e.ondrop=t}function a(){n.setMode("moving")}function u(e){return function(t){return e.call(null,n,t)}}n.inputMode=t,n.surface=e,n.reset(),o(e.textarea),o(e.editable)}function i(e,t){var n=!1,r=t.charCode||t.keyCode,o=String.fromCharCode(r);if(t.ctrlKey||t.metaKey)switch(o.toLowerCase()){case"y":e.redo(),n=!0;break;case"z":t.shiftKey?e.redo():e.undo(),n=!0}n&&t.preventDefault&&t.preventDefault()}function s(e,t){if(!t.ctrlKey&&!t.metaKey){var n=t.keyCode;n>=33&&n<=40||n>=63232&&n<=63235?e.setMode("moving"):8===n||46===n||127===n?e.setMode("deleting"):13===n?e.setMode("newlines"):27===n?e.setMode("escape"):(n<16||n>20)&&91!==n&&e.setMode("typing")}}function c(e){e.inputState&&e.inputState.text!==e.surface.read(e.inputMode)&&null===e.refreshing&&(e.historyMode="paste",e.saveState(),e.refreshState())}function l(e){var t=e.charCode||e.keyCode,n=89===t||90===t;(e.ctrlKey||e.metaKey)&&n&&e.preventDefault()}a.prototype.setInputMode=function(e){this.inputMode=e,this.reset()},a.prototype.reset=function(){var e=this;return e.inputState=null,e.lastState=null,e.history=[],e.historyPointer=0,e.historyMode="none",e.refreshing=null,e.refreshState(!0),e.saveState(),e},a.prototype.setCommandMode=function(){var e=this;e.historyMode="command",e.saveState(),e.refreshing=setTimeout((function(){e.refreshState()}),0)},a.prototype.canUndo=function(){return this.historyPointer>1},a.prototype.canRedo=function(){return this.history[this.historyPointer+1]},a.prototype.undo=function(){var e=this;e.canUndo()&&(e.lastState?(e.lastState.restore(),e.lastState=null):(e.history[e.historyPointer]=new o(e.surface,e.inputMode),e.history[--e.historyPointer].restore())),e.historyMode="none",e.surface.focus(e.inputMode),e.refreshState()},a.prototype.redo=function(){var e=this;e.canRedo()&&e.history[++e.historyPointer].restore(),e.historyMode="none",e.surface.focus(e.inputMode),e.refreshState()},a.prototype.setMode=function(e){var t=this;t.historyMode!==e&&(t.historyMode=e,t.saveState()),t.refreshing=setTimeout((function(){t.refreshState()}),1)},a.prototype.refreshState=function(e){var t=this;t.inputState=new o(t.surface,t.inputMode,e),t.refreshing=null},a.prototype.saveState=function(){var e=this,t=e.inputState||new o(e.surface,e.inputMode);"moving"!==e.historyMode?(e.lastState&&(e.history[e.historyPointer-1].text!==e.lastState.text&&(e.history[e.historyPointer++]=e.lastState),e.lastState=null),e.history[e.historyPointer++]=t,e.history[e.historyPointer+1]=null):e.lastState||(e.lastState=t)},e.exports=a},2797:(e,t,n)=>{"use strict";var r=n.g.document,o=n(4697),a=n(8448),i=n(6290),s=n(6985),c={markdown:i,html:s,wysiwyg:s};function l(e,t,n){this.mode=t,this.surface=e,this.initialState=n||!1,this.init()}l.prototype.init=function(){var e=this,t=e.surface.current(e.mode);o(t)&&(!this.initialState&&r.activeElement&&r.activeElement!==t||(e.surface.readSelection(e),e.scrollTop=t.scrollTop,e.text||(e.text=e.surface.read(e.mode))))},l.prototype.select=function(){var e=this,t=e.surface.current(e.mode);o(t)&&e.surface.writeSelection(e)},l.prototype.restore=function(){var e=this,t=e.surface.current(e.mode);"string"==typeof e.text&&e.text!==e.surface.read(e.mode)&&e.surface.write(e.mode,e.text),e.select(),t.scrollTop=e.scrollTop},l.prototype.getChunks=function(){var e=this,t=new c[e.mode];return t.before=a(e.text.substring(0,e.start)),t.startTag="",t.selection=a(e.text.substring(e.start,e.end)),t.endTag="",t.after=a(e.text.substring(e.end)),t.scrollTop=e.scrollTop,e.cachedChunks=t,t},l.prototype.setChunks=function(e){var t=this;e.before=e.before+e.startTag,e.after=e.endTag+e.after,t.start=e.before.length,t.end=e.before.length+e.selection.length,t.text=e.before+e.selection+e.after,t.scrollTop=e.scrollTop},e.exports=l},5491:(e,t,n)=>{"use strict";var r=n(1808),o={markdown:{boldOrItalic:n(7981),linkOrImageOrAttachment:n(4968),blockquote:n(1549),codeblock:n(1950),heading:n(5186),list:n(6759),hr:n(3225)},html:{boldOrItalic:n(3011),linkOrImageOrAttachment:n(4792),blockquote:n(887),codeblock:n(5454),heading:n(962),list:n(6562),hr:n(9073)}};o.wysiwyg=o.html,e.exports=function(e,t,n){function a(e){return function(){r.fabricate(e,"click")}}function i(r,a){return function(i,s){o[i].linkOrImageOrAttachment.call(this,s,{editor:n,mode:i,type:r,surface:e,prompts:t.prompts,upload:t[r+"s"],classes:t.classes,mergeHtmlAndAttachment:t.mergeHtmlAndAttachment||c,autoUpload:a})}}function s(e,t,r){return n.addCommandButton(e,t,function(e){return function(t,n,r){!function(e){e.preventDefault(),e.stopPropagation()}(t),e.call(this,n,r)}}(r))}function c(e,t){var n=e.selection||t.title;return{before:e.before,selection:'<a href="'+t.href+'">'+n+"</a>",after:e.after}}function l(e){return function(t,n){o[t][e].call(this,n)}}s("bold","cmd+b",(function(e,t){o[e].boldOrItalic(t,"bold")})),s("italic","cmd+i",(function(e,t){o[e].boldOrItalic(t,"italic")})),s("quote","cmd+j",l("blockquote")),s("code","cmd+e",(function(e,n){o[e].codeblock(n,{fencing:t.fencing})})),s("ol","cmd+o",(function(e,t){o[e].list(t,!0)})),s("ul","cmd+u",(function(e,t){o[e].list(t,!1)})),s("heading","cmd+d",l("heading")),n.showLinkDialog=a(s("link","cmd+k",i("link"))),n.showImageDialog=a(s("image","cmd+g",i("image"))),n.linkOrImageOrAttachment=i,t.attachments&&(n.showAttachmentDialog=a(s("attachment","cmd+shift+k",i("attachment")))),t.hr&&s("hr","cmd+n",l("hr"))}},1437:e=>{"use strict";e.exports=function(e){var t,n=[],r=e.length;for(t=0;t<r;t++)n.push(e[t]);return n}},1307:e=>{"use strict";var t=/^\s*(.*?)(?:\s+"(.+)")?\s*$/,n=/^(?:https?|ftp):\/\//;function r(e){return e.replace(/\+/g," ")}function o(e){return e.replace(/\+/g,"%2b")}function a(e){return e?e.replace(/^\s+|\s+$/g,"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):null}function i(e){var t=e.replace(/^\s+|\s+$/g,"");return t.length&&"/"!==t[0]&&!n.test(t)?"http://"+t:t}e.exports=function(e){return function(e,t,n){var s=t.replace(/\?.*$/,r);return s=decodeURIComponent(s),{href:i(s=(s=encodeURI(s).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")).replace(/\?.*$/,o)),title:a(n)}}.apply(null,e.match(t))}},1057:e=>{"use strict";e.exports=function(e){var t=this;function n(e){return t.before+=e,""}function r(e){return t.after=e+t.after,""}e&&(n=r=""),t.selection=t.selection.replace(/^(\s*)/,n).replace(/(\s*)$/,r)}},12:e=>{"use strict";var t=/^\s+|\s+$/g,n=/\s+/g;e.exports={add:function(e,n){var r=e.className;-1===r.indexOf(n)&&(e.className=(r+" "+n).replace(t,""))},rm:function(e,r){e.className=e.className.replace(r,"").replace(t,"").replace(n," ")}}},780:e=>{"use strict";e.exports=function(e,t,n){var r,o=e.toString();return o=t+(o=(o=o.replace(/\/([gim]*)$/,(function(e,t){return r=t,""}))).replace(/(^\/|\/$)/g,""))+n,new RegExp(o,r)}},8448:e=>{"use strict";e.exports=function(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")}},5851:(e,t,n)=>{"use strict";var r=n(2797);e.exports=function(e,t,n){return function(o){e.focus(t.inputMode),t.setCommandMode();var a=new r(e,t.inputMode),i=a.getChunks(),s={async:function(){return s.immediate=!1,c},immediate:!0};function c(){e.focus(t.inputMode),a.setChunks(i),a.restore()}n.call(s,o,t.inputMode,i),s.immediate&&c()}}},6589:(e,t,n)=>{"use strict";var r=n.g.document,o=n(3484),a=n(8448),i=n(7852),s=n(1437),c=o.get,l=o.set,u=/^(<[^>]+(?: [^>]*)?>)/,f=/(<\/[^>]+>)$/;e.exports=function(e,t,n){return{textarea:e,editable:t,droparea:n,focus:function(e){o(e).focus()},read:function(n){return"wysiwyg"===n?t.innerHTML:e.value},write:function(n,r){"wysiwyg"===n?t.innerHTML=r:e.value=r},current:o,writeSelection:function(n){"wysiwyg"===n.mode?function(e){var n=e.cachedChunks||e.getChunks(),r=n.before.length,o=r+n.selection.length,a={};d(t.firstChild,(function(e,t){var n=e.text.length,i=p(t).length,s=n+i;function c(e){return Math.max(0,Math.min(i,e))}!a.startContainer&&s>=r&&(a.startContainer=t,a.startOffset=c(r-n)),!a.endContainer&&s>=o&&(a.endContainer=t,a.endOffset=c(o-n))})),t.focus(),l(a)}(n):function(t){var n;if(void 0!==e.selectionStart)e.focus(),e.selectionStart=t.start,e.selectionEnd=t.end,e.scrollTop=t.scrollTop;else if(r.selection){if(r.activeElement&&r.activeElement!==e)return;e.focus(),(n=e.createTextRange()).moveStart("character",-e.value.length),n.moveEnd("character",-e.value.length),n.moveEnd("character",t.end),n.moveStart("character",t.start),n.select()}}(n)},readSelection:function(n){"wysiwyg"===n.mode?function(e){var n=c(),r=d(t.firstChild,(function(e,t){t===n.anchorNode&&(e.start=e.text.length+n.anchorOffset),t===n.focusNode&&(e.end=e.text.length+n.focusOffset)})),o=r.start||0,a=r.end||0;e.text=r.text,a>o?(e.start=o,e.end=a):(e.start=a,e.end=o)}(n):function(t){void 0!==e.selectionStart?(t.start=e.selectionStart,t.end=e.selectionEnd):r.selection&&function(t){if(!r.activeElement||r.activeElement===e){t.text=a(e.value);var n=r.selection.createRange(),o=a(n.text),s="",c=s+o+s;n.text=c;var l=a(e.value);n.moveStart("character",-c.length),n.text=o,t.start=l.indexOf(s),t.end=l.lastIndexOf(s)-s.length;var u=t.text.length-a(e.value).length;u&&(n.moveStart("character",-o.length),o+=i("\n",u),t.end+=u,n.text=o),t.select()}}(t)}(n)}};function o(n){return"wysiwyg"===n?t:e}function d(e,t,n,r){var o=n||{text:""};if(!e)return o;var a=1===e.nodeType,i=3===e.nodeType;return t(o,e),i&&(o.text+=p(e)),a&&(e.outerHTML.match(u)&&(o.text+=RegExp.$1),s(e.childNodes).forEach((function(e){d(e,t,o,!1)})),e.outerHTML.match(f)&&(o.text+=RegExp.$1)),!1!==r&&e.nextSibling?d(e.nextSibling,t,o):o}function p(e){return 3===e.nodeType?a(e.textContent||e.innerText||""):""}}},8274:e=>{"use strict";e.exports=function(e){return e.innerText||e.textContent}},6985:(e,t,n)=>{"use strict";var r=n(1057);function o(){}o.prototype.trim=r,o.prototype.findTags=function(){},o.prototype.skip=function(){},e.exports=o},887:(e,t,n)=>{"use strict";var r=n(5606),o=n(3747);e.exports=function(e){o("blockquote",r.placeholders.quote,e)}},3011:(e,t,n)=>{"use strict";var r=n(5606),o=n(3747);e.exports=function(e,t){o("bold"===t?"strong":"em",r.placeholders[t],e)}},5454:(e,t,n)=>{"use strict";var r=n(5606),o=n(3747);e.exports=function(e){o("pre><code",r.placeholders.code,e)}},962:(e,t,n)=>{"use strict";var r=n(5606),o=/<h([1-6])( [^>]*)?>$/,a=/^<\/h([1-6])>/;e.exports=function(e){e.trim();var t,n,i=a.exec(e.after),s=o.exec(e.before);s&&i&&s[1]===i[1]?(n=(t=parseInt(s[1],10))<=1?4:t-1,e.before=e.before.replace(o,"<h"+n+">"),e.after=e.after.replace(a,"</h"+n+">")):(e.selection||(e.selection=r.placeholders.heading),e.before+="<h1>",e.after="</h1>"+e.after)}},9073:e=>{"use strict";e.exports=function(e){e.before+="\n<hr>\n",e.selection=""}},4792:(e,t,n)=>{"use strict";var r=n(1808),o=n(2213),a=n(5606),i=n(1307),s=/<a( [^>]*)?>$/,c=/^<\/a>/,l=/<img( [^>]*)?\/>$/;e.exports=function(e,t){var n,u=t.type,f="image"===u;"attachment"!==u&&e.trim(),function(){if(f){if(l.test(e.selection))return e.selection="",!0}else if(c.exec(e.after)&&s.exec(e.before))return e.before=e.before.replace(s,""),e.after=e.after.replace(c,""),!0}()||(n=this.async(),t.prompts.close(),(t.prompts[u]||t.prompts.link)(t,o((function(o){var s,c=o.definitions.map(i).filter((function(e){return e.href.length>0}));if(0!==c.length){var l=c[0];if("attachment"===u)return s=t.mergeHtmlAndAttachment(e,l),e.before=s.before,e.selection=s.selection,e.after=s.after,n(),void r.fabricate(t.surface.textarea,"woofmark-mode-change");f?function(t,n){var r=e.after;function o(e){return'<img src="'+e.href+'" alt="'}function a(e){return'"'+d(e)+" />"}e.before+=o(t),e.after=a(t),n.length&&(e.after+=n.map((function(e){return" "+o(e)+a(e)})).join("")),e.after+=r}(l,c.slice(1)):function(n,r){var o=e.after,a=t.classes.input.links,i=a?' class="'+a+'"':"";function s(e){return'<a href="'+e.href+'"'+d(e)+i+">"}e.before+=s(n),e.after="</a>",r.length&&(e.after+=r.map((function(e){return" "+s(e)+"</a>"})).join("")),e.after+=o}(l,c.slice(1)),e.selection||(e.selection=a.placeholders[u]),n()}else n();function d(e){return e.title?' title="'+e.title+'"':""}}))))}},6562:(e,t,n)=>{"use strict";var r=n(5606),o=/<(ul|ol)( [^>]*)?>\s*<li( [^>]*)?>$/,a=/^<\/li>\s*<\/(ul|ol)>/,i=/<li( [^>]*)?>$/,s=/^<\/li( [^>]*)?>/,c=/^<(ul|ol)( [^>]*)?>$/;e.exports=function(e,t){var n=t?"ol":"ul",l="<"+n+">",u="</"+n+">";if(e.trim(),o.test(e.before)&&a.test(e.after)&&n===RegExp.$1)return e.before=e.before.replace(o,""),void(e.after=e.after.replace(a,""));var f=e.before.lastIndexOf("<ul"),d=e.before.lastIndexOf("<ol"),p=e.after.indexOf("</ul>");if(-1===p&&(p=e.after.indexOf("</ol>")),-1!==p){var g=f>d?f:d;if(-1!==g){var m=e.before.indexOf(">",g);if(-1!==m){var h=e.before.substr(g,m-g+1);c.test(h)&&(n!==RegExp.$1?(e.before=e.before.substr(0,g)+"<"+n+e.before.substr(g+3),e.after=e.after.substr(0,p)+"</"+n+e.after.substr(p+4)):i.test(e.before)&&s.test(e.after)?(e.before=e.before.replace(i,""),e.after=e.after.replace(s,"")):v(!0))}else v()}else v()}else v();function v(t){var n=t?"":l,o=t?"":u;e.before+=n+"<li>",e.after="</li>"+o+e.after,e.selection||(e.selection=r.placeholders.listitem)}}},3747:e=>{"use strict";function t(e,t){var n=new RegExp("<"+t+"(?: [^>]*)?>","ig"),r=new RegExp("</"+t.replace(/</g,"</")+">","ig"),o=c(e.before,n),a=c(e.after,n),i=c(e.before,r),s=c(e.after,r);return o-i>0&&s-a>0;function c(e,t){var n=e.match(t);return n?n.length:0}}e.exports=function(e,n,r){var o="<"+e,a="</"+e.replace(/</g,"</"),i=new RegExp(o+"( [^>]*)?>$","i"),s=new RegExp("^"+a+">","i"),c=new RegExp(o+"( [^>]*)?>","ig"),l=new RegExp(a+"( [^>]*)?>","ig");r.trim();var u=s.exec(r.after);if(i.exec(r.before)&&u)r.before=r.before.replace(i,""),r.after=r.after.replace(s,"");else{r.selection||(r.selection=n);var f=c.test(r.selection);f&&(r.selection=r.selection.replace(c,""),t(r,e)||(r.before+=o+">"));var d=l.test(r.selection);if(d&&(r.selection=r.selection.replace(l,""),t(r,e)||(r.after=a+">"+r.after)),f||d)return void p();t(r,e)?(i.test(r.before)?r.before=r.before.replace(i,""):r.before+=a+">",s.test(r.after)?r.after=r.after.replace(s,""):r.after=o+">"+r.after):function(e,t){var n=new RegExp("</"+t.replace(/</g,"</")+">$","i"),r=new RegExp("^<"+t+"(?: [^>]*)?>","i"),o=n.test(e.before)&&r.test(e.after);return o&&(e.before=e.before.replace(n,""),e.after=e.after.replace(r,"")),o}(r,e)||(r.after=a+">"+r.after,r.before+=o+">"),p()}function p(){r.selection.replace(/<(\/)?([^> ]+)( [^>]*)?>/gi,g)}function g(e,t,n,o,a){var i=o||"",s=!t,c=new RegExp("</"+n.replace(/</g,"</")+">","i"),l=new RegExp("<"+n+"( [^>]*)?>","i");s&&!c.test(r.selection.substr(a))&&(r.selection+="</"+n+">",r.after=r.after.replace(/^(<\/[^>]+>)/,"$1<"+n+i+">")),t&&!l.test(r.selection.substr(0,a))&&(r.selection="<"+n+i+">"+r.selection,r.before=r.before.replace(/(<[^>]+(?: [^>]*)?>)$/,"</"+n+">$1"))}}},4697:(e,t,n)=>{"use strict";e.exports=function(e){return n.g.getComputedStyle?"none"!==n.g.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0}},7852:e=>{"use strict";e.exports=function(e,t){return new Array(t+1).join(e)}},6290:(e,t,n)=>{"use strict";var r=n(7852),o=n(780),a=n(1057);function i(){}i.prototype.trim=a,i.prototype.findTags=function(e,t){var n,r=this;function a(e){return r.startTag=r.startTag+e,""}function i(e){return r.endTag=e+r.endTag,""}e&&(n=o(e,"","$"),this.before=this.before.replace(n,a),n=o(e,"^",""),this.selection=this.selection.replace(n,a)),t&&(n=o(t,"","$"),this.selection=this.selection.replace(n,i),n=o(t,"^",""),this.after=this.after.replace(n,i))},i.prototype.skip=function(e){var t=e||{},n="before"in t?t.before:1,o="after"in t?t.after:1;function a(e,n,o){var a=t.any?"\\n*":r("\\n?",n),i=r("\n",n);return e.replace(new RegExp(a+o),i)}this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+RegExp.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+RegExp.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+RegExp.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+RegExp.$1,this.before&&(this.before=a(this.before,++n,"$")),this.after&&(this.after=a(this.after,++o,""))},e.exports=i},1549:(e,t,n)=>{"use strict";var r=n(5606),o=n(2672),a=n(9870),i=/(>[ \t]*)$/,s=/^(>[ \t]*)/,c=/^(\n*)([^\r]+?)(\n*)$/,l=/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,u=/^\n((>|\s)*)\n/,f=/\n((>|\s)*)\n$/;e.exports=function(e){var t,n="",d="";function p(t){var n=t?"> ":"";function r(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}e.startTag&&(e.startTag=e.startTag.replace(f,r)),e.endTag&&(e.endTag=e.endTag.replace(u,r))}e.selection=e.selection.replace(c,(function(t,n,r,o){return e.before+=n,e.after=o+e.after,r})),e.before=e.before.replace(i,(function(t,n){return e.selection=n+e.selection,""})),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||r.placeholders.quote,e.before&&function(){for(var r,o=e.before.replace(/\n$/,"").split("\n"),a=!1,i=0;i<o.length;i++)r=!1,t=o[i],a=a&&t.length>0,/^>/.test(t)?(r=!0,!a&&t.length>1&&(a=!0)):r=!!/^[ \t]*$/.test(t)||a,r?n+=t+"\n":(d+=n+t,n="\n");/(^|\n)>/.test(n)||(d+=n,n="")}(),e.startTag=n,e.before=d,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(l,(function(t){return e.endTag=t,""})),/^(?![ ]{0,3}>)/m.test(e.selection)?(o.wrap(e,a.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),p(!0),e.skip()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),o.unwrap(e),p(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),/\n/.test(e.selection)||(e.selection=e.selection.replace(s,(function(t,n){return e.startTag+=n,""})))}},7981:(e,t,n)=>{"use strict";var r=/^(\**)/,o=/(\**$)/,a=/(\s?)$/,i=n(5606);e.exports=function(e,t){var n,s="bold"===t?2:1;e.trim(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var c=o.exec(e.before)[0],l=r.exec(e.after)[0],u="\\*{"+s+"}",f=Math.min(c.length,l.length);f>=s&&(2!==f||1!==s)?(e.before=e.before.replace(new RegExp(u+"$",""),""),e.after=e.after.replace(new RegExp("^"+u,""),"")):!e.selection&&l?(e.after=e.after.replace(r,""),e.before=e.before.replace(a,"")+l+RegExp.$1):(e.selection||l||(e.selection=i.placeholders[t]),n=1===s?"*":"**",e.before=e.before+n,e.after=n+e.after)}},1950:(e,t,n)=>{"use strict";var r=n(5606),o=/\S[ ]*$/,a=/^[ ]*\S/,i=/\n/,s=/`/,c=/```[a-z]*\n?$/,l=/^```[a-z]*\n/,u=/^\n?```/,f=/\n```$/;e.exports=function(e,t){var n=i.test(e.selection),d=a.test(e.after),p=o.test(e.before),g=c.test(e.before)&&u.test(e.after);g||n||!p&&!d?function(o){if(o)return e.before=e.before.replace(c,""),void(e.after=e.after.replace(u,""));e.before=e.before.replace(/[ ]{4}|```[a-z]*\n$/,(function(t){return e.selection=t+e.selection,""})),e.skip({before:/(\n|^)(\t|[ ]{4,}|```[a-z]*\n).*\n$/.test(e.before)?0:1,after:/^\n(\t|[ ]{4,}|\n```)/.test(e.after)?0:1}),e.selection?l.test(e.selection)&&f.test(e.selection)?e.selection=e.selection.replace(/(^```[a-z]*\n)|(```$)/g,""):/^[ ]{0,3}\S/m.test(e.selection)?t.fencing?(e.before+="```\n",e.after="\n```"+e.after):n?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t|```[a-z]*)/gm,""):(t.fencing?(e.startTag="```\n",e.endTag="\n```"):e.startTag="    ",e.selection=r.placeholders.code)}(g):(e.trim(),e.findTags(s,s),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection=r.placeholders.code)))}},5186:(e,t,n)=>{"use strict";var r=n(7852),o=n(5606);e.exports=function(e){var t=0;if(e.selection=e.selection.replace(/\s+/g," ").replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="# ",e.selection=o.placeholders.heading,e.endTag="",void e.skip({before:1,after:1});e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(t=RegExp.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(t=1),/-+/.test(e.endTag)&&(t=2),e.startTag=e.endTag="",e.skip({before:1,after:1});var n=t<2?4:t-1;n>0&&(e.startTag=r("#",n)+" ")}},3225:e=>{"use strict";e.exports=function(e){e.startTag="----------\n",e.selection="",e.skip({left:2,right:1,any:!0})}},4968:(e,t,n)=>{"use strict";var r=n(2213),o=n(5606),a=n(1307),i=/^[ ]{0,3}\[((?:attachment-)?\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,s=/^attachment-(\d+)$/i;function c(e,t){return i.lastIndex=0,e.replace(i,(function(e,n,r,o,a){return t[n]=e.replace(/\s*$/,""),o?(t[n]=e.replace(/["(](.+?)[")]$/,""),o+a):""}))}function l(e){var t=e.chunks,n=e.definition,r=e.attachment,o=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)((?:attachment-)?\d+)(\])/g,a=0,i={},l=[];t.before=c(t.before,i),t.selection=c(t.selection,i),t.after=c(t.after,i),t.before=t.before.replace(o,d),n?r||f(n):t.selection=t.selection.replace(o,d);var u=a;return t.after=t.after.replace(o,d),t.after&&(t.after=t.after.replace(/\n*$/,"")),t.after||(t.selection=t.selection.replace(/\n*$/,"")),a=0,Object.keys(i).forEach((function(e){s.test(e)&&f(i[e])})),r&&f(n),t.after+="\n\n"+l.join("\n"),u;function f(e){a++,e=e.replace(/^[ ]{0,3}\[(attachment-)?(\d+)\]:/,"  [$1"+a+"]:"),l.push(e)}function d(e,t,n,r,s,c){return n=n.replace(o,d),i[s]?(f(i[s]),t+n+r+a+c):e}}e.exports=function(e,t){var n,i=t.type,s="image"===i;if(e.trim(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/),e.endTag.length>1&&e.startTag.length>0)return e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",void l({chunks:e});e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection)?l({chunks:e}):(n=this.async(),t.prompts.close(),(t.prompts[i]||t.prompts.link)(t,r((function(t){var r=t.definitions.map(a).filter((function(e){return e.href.length>0}));r.forEach((function(n,a){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var c=(t.attachment?"  [attachment-9999]: ":" [9999]: ")+n.href+(n.title?' "'+n.title+'"':""),u=l({chunks:e,definition:c,attachment:t.attachment});t.attachment||(e.startTag=s?"![":"[",e.endTag="]["+u+"]",e.selection||(e.selection=o.placeholders[i]),a<r.length-1&&(e.before+=e.startTag+e.selection+e.endTag+"\n"))})),n()}))))}},6759:(e,t,n)=>{"use strict";var r=n(7852),o=n(5606),a=n(2672),i=n(9870),s=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,c=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,l=/^\s*([*+-])/,u=/[^\n]\n\n[^\n]/;e.exports=function(e,t){var n,f="-",d=1,p=1,g=1;if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),!e.startTag||(n=/\d+[.]/.test(e.startTag),e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),a.unwrap(e),e.skip(),n&&(e.after=e.after.replace(c,w)),t!==n)){e.before=e.before.replace(s,(function(e){return l.test(e)&&(f=RegExp.$1),p=u.test(e)?1:0,w(e)})),e.selection||(e.selection=o.placeholders.listitem);var m=v(),h=r(" ",m.length);e.after=e.after.replace(c,(function(e){return g=u.test(e)?1:0,w(e)})),e.trim(!0),e.skip({before:p,after:g,any:!0}),e.startTag=m,a.wrap(e,i.lineLength-m.length),e.selection=e.selection.replace(/\n/g,"\n"+h)}function v(){return" "+(t?d+++".":f)+" "}function w(e){return e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,v)}}},9870:e=>{"use strict";e.exports={lineLength:72}},2672:e=>{"use strict";var t="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",n=new RegExp("^"+t,""),r=new RegExp("([^\\n])\\n(?!(\\n|"+t+"))","g"),o=/\s+$/;function a(e){r.lastIndex=0,e.selection=e.selection.replace(r,"$1 $2")}e.exports={wrap:function(e,t){var r=new RegExp("(.{1,"+t+"})( +|$\\n?)","gm");a(e),e.selection=e.selection.replace(r,(function(e,t){return n.test(e)?e:t+"\n"})).replace(o,"")},unwrap:a}},2213:e=>{"use strict";e.exports=function(e){var t;return function(){if(!t)return t=!0,e.apply(this,arguments)}}},1677:e=>{"use strict";var t=document;function n(e){return" "+e+" "}function r(e){var t,n=e.length;for(t=0;t<n;t++)e[t].parentElement.removeChild(e[t])}e.exports=function(){t.body.querySelectorAll?r(t.body.querySelectorAll(".wk-prompt")):r(function(e){var r,o=[],a=t.getElementsByTagName("*");for(r in a)-1!==n(a[r].className).indexOf(n("wk-prompt"))&&o.push(a[r]);return o}())}},9161:(e,t,n)=>{"use strict";var r=n(1808),o=n(5105),a=n(489),i=n(12),s=n(5606),c=n(4832),l="wk-dragging",u="wk-prompt-upload-dragging",f=document.documentElement;function d(e,t){Object.keys(e).forEach((function(n){t[n]&&(e[n].className+=" "+t[n])}))}e.exports=function(e,t){var n,p=s.prompts[e.type],g=a({id:"wk-prompt-"+e.type,title:p.title,description:p.description,placeholder:p.placeholder});r.add(g.cancel,"click",w),r.add(g.close,"click",w),r.add(g.ok,"click",v),r.add(g.input,"keypress",(function(e){13===(e.which||e.keyCode)&&(v(),e.preventDefault())})),r.add(g.dialog,"keydown",(function(e){27===(e.which||e.keyCode)&&(w(),e.preventDefault())})),d(g,e.classes.prompts);var m=e.upload;"string"==typeof m&&(m={url:m});var h=null;function v(){w(),t({definitions:[g.input.value]})}function w(){m&&y(!0),g.dialog.parentElement&&g.dialog.parentElement.removeChild(g.dialog),e.surface.focus(e.mode)}function y(e){var t=e?"remove":"add";r[t](f,"dragenter",b),r[t](f,"dragend",x),r[t](f,"mouseout",x)}function b(){i.add(n.area,l),i.add(n.area,u)}function x(){i.rm(n.area,l),i.rm(n.area,u),c.stop(e.surface.droparea)}function k(e){E(e),e.dataTransfer.dropEffect="copy"}function T(e){x(),E(e),h.submit(e.dataTransfer.files)}function E(e){e.stopPropagation(),e.preventDefault()}m&&(h=function(){n=a.uploads(g,s.prompts.types+(m.restriction||e.type+"s")),y(),r.add(n.area,"dragover",k,!1),r.add(n.area,"drop",T,!1),d(n,e.classes.prompts);var c=o.setup(n.fileinput,{method:m.method,formData:m.formData,fieldKey:m.fieldKey,xhrOptions:m.xhrOptions,endpoint:m.url,validate:m.validate||"image"});return c.on("started",(function(){i.rm(n.failed,"wk-prompt-error-show"),i.rm(n.warning,"wk-prompt-error-show")})),c.on("valid",(function(){i.add(n.area,"wk-prompt-uploading")})),c.on("invalid",(function(){i.add(n.warning,"wk-prompt-error-show")})),c.on("error",(function(){i.add(n.failed,"wk-prompt-error-show")})),c.on("success",(function(n){var r=n[0];g.input.value=r.href+' "'+r.title+'"',w(),t({definitions:n.map((function(e){return e.href+' "'+e.title+'"'})),attachment:"attachment"===e.type})})),c.on("ended",(function(){i.rm(n.area,"wk-prompt-uploading")})),c}(),e.autoUpload&&h.submit(e.autoUpload)),setTimeout((function(){g.input.focus()}),0)}},489:(e,t,n)=>{"use strict";var r=n(1808),o=n(8274),a=n(4132),i=n(12),s=n(5606),c="appendChild",l=n.g.document;function u(e,t,n){var r=l.createElement(e);return r.className=t,n&&a(r,n),r}function f(e){var t={dialog:u("article","wk-prompt "+e.id),close:u("a","wk-prompt-close"),header:u("header","wk-prompt-header"),h1:u("h1","wk-prompt-title",e.title),section:u("section","wk-prompt-body"),desc:u("p","wk-prompt-description",e.description),inputContainer:u("div","wk-prompt-input-container"),input:u("input","wk-prompt-input"),cancel:u("button","wk-prompt-cancel","Cancel"),ok:u("button","wk-prompt-ok","Ok"),footer:u("footer","wk-prompt-buttons")};return t.ok.type="button",t.header[c](t.h1),t.section[c](t.desc),t.section[c](t.inputContainer),t.inputContainer[c](t.input),t.input.placeholder=e.placeholder,t.cancel.type="button",t.footer[c](t.cancel),t.footer[c](t.ok),t.dialog[c](t.close),t.dialog[c](t.header),t.dialog[c](t.section),t.dialog[c](t.footer),l.body[c](t.dialog),t}f.uploads=function(e,t){var n="wk-prompt-fileupload",l={area:u("section","wk-prompt-upload-area"),warning:u("p","wk-prompt-error wk-warning",t),failed:u("p","wk-prompt-error wk-failed",s.prompts.uploadfailed),upload:u("label","wk-prompt-upload"),uploading:u("span","wk-prompt-progress",s.prompts.uploading),drop:u("span","wk-prompt-drop",s.prompts.drop),dropicon:u("p","wk-drop-icon wk-prompt-drop-icon"),browse:u("span","wk-prompt-browse",s.prompts.browse),dragdrop:u("p","wk-prompt-dragdrop",s.prompts.drophint),fileinput:u("input",n)};return l.area[c](l.drop),l.area[c](l.uploading),l.area[c](l.dropicon),l.upload[c](l.browse),l.upload[c](l.fileinput),l.fileinput.id=n,l.fileinput.type="file",l.fileinput.multiple="multiple",e.dialog.className+=" wk-prompt-uploads",e.inputContainer.className+=" wk-prompt-input-container-uploads",e.input.className+=" wk-prompt-input-uploads",e.section.insertBefore(l.warning,e.inputContainer),e.section.insertBefore(l.failed,e.inputContainer),e.section[c](l.upload),e.section[c](l.dragdrop),e.section[c](l.area),a(e.desc,o(e.desc)+s.prompts.upload),r.add(l.fileinput,"focus",(function(){i.add(l.upload,"wk-focused")})),r.add(l.fileinput,"blur",(function(){i.rm(l.upload,"wk-focused")})),l},e.exports=f},4899:(e,t,n)=>{"use strict";var r=n(6942);e.exports=function(e){var t,n,o,a=Math.random().toString(18).substr(2).replace(/\d+/g,""),i="WoofmarkSelectionOpenMarker"+a,s="WoofmarkSelectionCloseMarker"+a,c=new RegExp(i+"|"+s,"g");return{markers:(t=e.reset().inputState.getChunks(),n=t.before.length,o=n+t.selection.length,[[n,i],[o,s]]),unmark:function(){var t=e.inputState,n=t.getChunks(),o=n.before+n.selection+n.after,a=o.lastIndexOf(i),l=o.lastIndexOf(s)+s.length,u=-1===a?0:a,f=-1===l?0:l;n.before=o.substr(0,u).replace(c,""),n.selection=o.substr(u,f-u).replace(c,""),n.after=o.substr(l).replace(c,"");var d=e.surface.current(e.inputMode),p=r(d,{caret:!0,autoupdateToCaret:!1,tracking:!1});t.setChunks(n),t.restore(!1),t.scrollTop=d.scrollTop=p.read().y-d.getBoundingClientRect().top-50,p.destroy()}}}},5090:(e,t,n)=>{"use strict";var r=n(4132),o=n(5606);e.exports={modes:function(e,t){r(e,o.modes[t]||t)},commands:function(e,t){r(e,o.buttons[t]||t)}}},4132:e=>{"use strict";e.exports=function(e,t){e.innerText=e.textContent=t}},5606:e=>{"use strict";e.exports={placeholders:{bold:"strong text",italic:"emphasized text",quote:"quoted text",code:"code goes here",listitem:"list item",heading:"Heading Text",link:"link text",image:"image description",attachment:"attachment description"},titles:{bold:"Strong <strong> Ctrl+B",italic:"Emphasis <em> Ctrl+I",quote:"Blockquote <blockquote> Ctrl+J",code:"Code Sample <pre><code> Ctrl+E",ol:"Numbered List <ol> Ctrl+O",ul:"Bulleted List <ul> Ctrl+U",heading:"Heading <h1>, <h2>, ... Ctrl+D",link:"Hyperlink <a> Ctrl+K",image:"Image <img> Ctrl+G",attachment:"Attachment Ctrl+Shift+K",markdown:"Markdown Mode Ctrl+M",html:"HTML Mode Ctrl+H",wysiwyg:"Preview Mode Ctrl+P"},buttons:{bold:"B",italic:"I",quote:"“",code:"</>",ol:"1.",ul:"⦿",heading:"Tt",link:"Link",image:"Image",attachment:"Attachment",hr:"↵"},prompts:{link:{title:"Insert Link",description:"Type or paste the url to your link",placeholder:'http://example.com/ "title"'},image:{title:"Insert Image",description:"Enter the url to your image",placeholder:'http://example.com/public/image.png "title"'},attachment:{title:"Attach File",description:"Enter the url to your attachment",placeholder:'http://example.com/public/report.pdf "title"'},types:"You can only upload ",browse:"Browse...",drophint:"You can also drag files from your computer and drop them here!",drop:"Drop your file here to begin upload...",upload:", or upload a file",uploading:"Uploading your file...",uploadfailed:"The upload failed! That's all we know."},modes:{wysiwyg:"wysiwyg",markdown:"m↓"}}},4832:(e,t,n)=>{"use strict";var r=n(1808),o=n(12),a="wk-dragging",i="wk-container-dragging",s=document.documentElement;function c(e,t,n,c,d){var p=d?"remove":"add";function g(){o.add(t,a),o.add(t,i)}function m(){f(t)}r[p](s,"dragenter",g),r[p](s,"dragend",m),r[p](s,"mouseout",m),r[p](e,"dragover",(function(e){u(e),g(),e.dataTransfer.dropEffect="copy"}),!1),r[p](t,"drop",(function(e){m(),u(e),n.runCommand((function(t,r){var o=Array.prototype.slice.call(e.dataTransfer.files),a=function(e){return c.images&&!c.attachments?"image":!c.images&&c.attachments?"attachment":e.every((t=c.images.validate||l,function(e){return t(e)}))?"image":"attachment";var t}(o);n.linkOrImageOrAttachment(a,o).call(this,r,t)}))}),!1)}function l(){return!1}function u(e){e.stopPropagation(),e.preventDefault()}function f(e){o.rm(e,a),o.rm(e,i)}c.stop=f,e.exports=c},5354:(e,t,n)=>{"use strict";var r=n(2222),o=n(1808),a=n(4942),i=n(4832),s=n(5606),c=n(4132),l=n(4899),u=n(5491),f=n(5856),d=n(5851),p=n(6589),g=n(12),m=n(5090),h=n(9161),v=n(1677),w=["markdown","html","wysiwyg"],y=[],b=/\bMac OS\b/.test(n.g.navigator.userAgent),x=document,k=/^<p><\/p>\n?$/i;function T(e){for(var t=0;t<y.length;t++)if(y[t]&&y[t].ta===e)return y[t].editor;return null}function E(e,t){var n=T(e);if(n)return n;var c=e.parentElement;if(c.children.length>1)throw new Error("woofmark demands <textarea> elements to have no siblings");var E=t||{};if(void 0===E.markdown&&(E.markdown=!0),void 0===E.html&&(E.html=!0),void 0===E.wysiwyg&&(E.wysiwyg=!0),!E.markdown&&!E.html&&!E.wysiwyg)throw new Error("woofmark expects at least one input mode to be available");void 0===E.hr&&(E.hr=!1),void 0===E.storage&&(E.storage=!0),!0===E.storage&&(E.storage="woofmark_input_mode"),void 0===E.fencing&&(E.fencing=!0),void 0===E.render&&(E.render={}),void 0===E.render.modes&&(E.render.modes={}),void 0===E.render.commands&&(E.render.commands={}),void 0===E.prompts&&(E.prompts={}),void 0===E.prompts.link&&(E.prompts.link=h),void 0===E.prompts.image&&(E.prompts.image=h),void 0===E.prompts.attachment&&(E.prompts.attachment=h),void 0===E.prompts.close&&(E.prompts.close=v),void 0===E.classes&&(E.classes={}),void 0===E.classes.wysiwyg&&(E.classes.wysiwyg=[]),void 0===E.classes.prompts&&(E.classes.prompts={}),void 0===E.classes.input&&(E.classes.input={});var R=E.storage&&r.get(E.storage);R&&(E.defaultMode=R);var M,O=C({c:"wk-container-drop"}),$=C({c:"wk-switchboard"}),A=C({c:"wk-commands"}),L=C({c:["wk-wysiwyg","wk-hide"].concat(E.classes.wysiwyg).join(" ")}),I=p(e,L,O),N=new f(I,"markdown"),H={addCommand:F,addCommandButton:function(e,t,n){2===arguments.length&&(n=t,t=null);var r=C({t:"button",c:"wk-command",p:A}),a=E.render.commands,i="function"==typeof a?a:m.commands,c=s.titles[e];return c&&r.setAttribute("title",b?S(c):c),r.type="button",r.tabIndex=-1,i(r,e),o.add(r,"click",d(I,N,n)),t&&F(t,n),r},runCommand:function(e){d(I,N,(function(t,n,r){return e.call(this,r,n)}))(null)},parseMarkdown:E.parseMarkdown,parseHTML:E.parseHTML,destroy:function(){"markdown"!==H.mode&&(e.value=J()),g.rm(e,"wk-hide"),X(!0),delete y[j-1]},value:function(t){var n=String(t),r=1===arguments.length;return r&&("wysiwyg"===H.mode?L.innerHTML=o():e.value="html"===H.mode?o():n,N.reset()),J();function o(){return E.parseMarkdown(n)}},textarea:e,editable:E.wysiwyg?L:null,setMode:z,history:{undo:N.undo,redo:N.redo,canUndo:N.canUndo,canRedo:N.canRedo},mode:"markdown"},D={ta:e,editor:H},j=y.push(D),P="woofmark_"+j,q={filter:c,context:P},_={markdown:{button:C({t:"button",c:"wk-mode wk-mode-active"}),set:B},html:{button:C({t:"button",c:"wk-mode wk-mode-inactive"}),set:U},wysiwyg:{button:C({t:"button",c:"wk-mode wk-mode-inactive"}),set:K}};return C({t:"span",c:"wk-drop-text",x:s.prompts.drop,p:O}),C({t:"p",c:["wk-drop-icon"].concat(E.classes.dropicon).join(" "),p:O}),L.contentEditable=!0,_.markdown.button.setAttribute("disabled","disabled"),w.forEach((function(e){var t=_[e].button,n=E.render.modes;if(E[e]){$.appendChild(t),("function"==typeof n?n:m.modes)(t,e),o.add(t,"click",_[e].set),t.type="button",t.tabIndex=-1;var r=s.titles[e];r&&t.setAttribute("title",b?S(r):r)}})),E.wysiwyg&&(M=C({c:"wk-wysiwyg-placeholder wk-hide",x:e.placeholder}),o.add(M,"click",W)),E.defaultMode&&E[E.defaultMode]?_[E.defaultMode].set():E.markdown?_.markdown.set():E.html?_.html.set():_.wysiwyg.set(),u(I,E,H),X(),H;function X(e){var t=e?"rm":"add",n=e?"removeChild":"appendChild";e?a.clear(P):(E.markdown&&a.on("cmd+m",q,B),E.html&&a.on("cmd+h",q,U),E.wysiwyg&&a.on("cmd+p",q,K)),g[t](c,"wk-container"),c[n](L),M&&c[n](M),c[n](A),c[n]($),(E.images||E.attachments)&&(c[n](O),i(c,O,H,E,e))}function B(e){z("markdown",e)}function U(e){z("html",e)}function K(e){z("wysiwyg",e)}function z(t,n){var a,i=H.mode,s=_[i].button,c=_[t].button,u=!!n||x.activeElement===e||x.activeElement===L;function f(e,t){return E[e](t,{markers:a&&a.markers||[]})}(function(e){e&&(e.preventDefault(),e.stopPropagation())})(n),i!==t&&(a=u&&l(N,E),e.blur(),"markdown"===t?e.value="html"===i?f("parseHTML",e.value).trim():f("parseHTML",L).trim():"html"===t?e.value="markdown"===i?f("parseMarkdown",e.value).trim():L.innerHTML.trim():"wysiwyg"===t&&(L.innerHTML="markdown"===i?f("parseMarkdown",e.value).replace(k,"").trim():e.value.replace(k,"").trim()),"wysiwyg"===t?(g.add(e,"wk-hide"),g.rm(L,"wk-hide"),M&&g.rm(M,"wk-hide"),u&&setTimeout(W,0)):(g.rm(e,"wk-hide"),g.add(L,"wk-hide"),M&&g.add(M,"wk-hide"),u&&e.focus()),g.add(c,"wk-mode-active"),g.rm(s,"wk-mode-active"),g.add(s,"wk-mode-inactive"),g.rm(c,"wk-mode-inactive"),c.setAttribute("disabled","disabled"),s.removeAttribute("disabled"),H.mode=t,E.storage&&r.set(E.storage,t),N.setInputMode(t),a&&a.unmark(),"woofmark-mode-change",setTimeout((function(){o.fabricate(e,"woofmark-mode-change")}),0))}function W(){L.focus()}function J(){return"wysiwyg"===H.mode?E.parseHTML(L):"html"===H.mode?E.parseHTML(e.value):e.value}function F(e,t){a.on(e,q,d(I,N,t))}}function C(e){var t=e||{},n=x.createElement(t.t||"div");return n.className=t.c||"",c(n,t.x||""),t.p&&t.p.appendChild(n),n}function S(e){return e.replace(/\bctrl\b/i,"⌘").replace(/\balt\b/i,"⌥").replace(/\bshift\b/i,"⇧")}E.find=T,E.strings=s,e.exports=E},1875:(e,t,n)=>{"use strict";var r=n(8908),o=n(7376),a=n(4947),i=n(7529);function s(e,t,n){var r=e;return o(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=i(t,{uri:e}),r.callback=n,r}function c(e,t,n){return l(t=s(e,t,n))}function l(e){var t=e.callback;if(void 0===t)throw new Error("callback argument missing");function n(){var e=void 0;if(e=f.response?f.response:f.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(f),w)try{e=JSON.parse(e)}catch(e){}return e}var r={body:void 0,headers:{},statusCode:0,method:g,url:p,rawRequest:f};function o(e){clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,t(e,r),t=u}function i(){if(!l){var o;clearTimeout(d),o=e.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var i=r,s=null;0!==o?(i={body:n(),statusCode:o,method:g,headers:{},url:p,rawRequest:f},f.getAllResponseHeaders&&(i.headers=a(f.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),t(s,i,i.body),t=u}}var s,l,f=e.xhr||null;f||(f=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var d,p=f.url=e.uri||e.url,g=f.method=e.method||"GET",m=e.body||e.data||null,h=f.headers=e.headers||{},v=!!e.sync,w=!1;if("json"in e&&(w=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),m=JSON.stringify(e.json))),f.onreadystatechange=function(){4===f.readyState&&i()},f.onload=i,f.onerror=o,f.onprogress=function(){},f.ontimeout=o,f.open(g,p,!v,e.username,e.password),v||(f.withCredentials=!!e.withCredentials),!v&&e.timeout>0&&(d=setTimeout((function(){l=!0,f.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}),e.timeout)),f.setRequestHeader)for(s in h)h.hasOwnProperty(s)&&f.setRequestHeader(s,h[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(m),f}function u(){}e.exports=c,c.XMLHttpRequest=r.XMLHttpRequest||u,c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){c["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),l(n)}}))},7529:e=>{e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var o in r)t.call(r,o)&&(e[o]=r[o])}return e};var t=Object.prototype.hasOwnProperty}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(5354);n.n(e)()(document.querySelector("#ta"),{parseMarkdown:megamark,parseHTML:domador})})()})();